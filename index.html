<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Lust Engine - ThisVid & DarknessPorn</title>
  <style>
    body { font-family: Arial, sans-serif; background: #111; color: #eee; margin: 0; padding: 20px; text-align: center; }
    h1 { color: #ff4081; }
    input { padding: 12px; width: 70%; max-width: 600px; font-size: 18px; border: 2px solid #ff4081; border-radius: 8px; background: #222; color: white; }
    button { padding: 12px 24px; font-size: 18px; background: #ff4081; border: none; color: white; border-radius: 8px; cursor: pointer; margin: 15px; }
    #prefs { margin: 30px auto; max-width: 700px; background: #1a1a1a; padding: 20px; border-radius: 10px; }
    ul { list-style: none; padding: 0; }
    li { margin: 8px 0; }
    #status { color: #ffeb3b; margin: 10px; font-weight: bold; }
    footer { margin-top: 50px; font-size: 0.9em; color: #888; }
  </style>
</head>
<body>

  <h1>Lust Engine</h1>
  <p>Recherche anonyme sur ThisVid + DarknessPorn (accessibles sans restriction FR)</p>

  <input type="text" id="searchInput" placeholder="Ton fantasme (ex: amateur french bdsm)" autofocus />
  <button onclick="search()">Rechercher</button>
  <div id="status"></div>

  <div id="prefs">
    <h3>Préférences (local)</h3>
    <input type="text" id="tagInput" placeholder="milf +3 ou creampie -5" />
    <button onclick="addTag()">Ajouter</button>
    <ul id="tagList"></ul>
    <button onclick="resetPrefs()" style="background:#e74c3c;">Reset tout</button>
  </div>

  <footer>
    100% anonyme · Prefs dans navigateur · Sites : ThisVid & DarknessPorn (pas de geo-block FR)
  </footer>

  <script>
    const STORAGE_KEY = 'lustEnginePrefs';
    let prefs = JSON.parse(localStorage.getItem(STORAGE_KEY)) || {};

    function savePrefs() { localStorage.setItem(STORAGE_KEY, JSON.stringify(prefs)); updateList(); }
    function updateList() {
      document.getElementById('tagList').innerHTML = Object.entries(prefs).map(([tag, w]) => `<li>${tag}: ${w}</li>`).join('');
    }

    function addTag() {
      const val = document.getElementById('tagInput').value.trim().toLowerCase();
      if (!val) return;
      const match = val.match(/^(.+?)\s*([+-]?\d*\.?\d*)$/);
      if (match) {
        prefs[match[1].trim()] = parseFloat(match[2]) || 1;
        savePrefs();
        document.getElementById('tagInput').value = '';
        document.getElementById('status').textContent = 'Tag ajouté';
      }
    }

    function resetPrefs() {
      if (confirm('Reset ?')) {
        prefs = {}; localStorage.removeItem(STORAGE_KEY); updateList();
        document.getElementById('status').textContent = 'Reset OK';
      }
    }

    function search() {
      let query = document.getElementById('searchInput').value.trim();
      if (!query) return alert("Entre quelque chose !");

      let enhanced = query;
      Object.entries(prefs).forEach(([tag, w]) => { if (w > 0) enhanced += ` ${tag}`; });

      const sites = [
        {name: "ThisVid", url: `https://thisvid.com/search/?q=${encodeURIComponent(enhanced)}`},
        {name: "DarknessPorn", url: `https://darknessporn.com/search/${encodeURIComponent(enhanced)}/`}
      ];

      if (confirm(`Ouvrir sur ${sites.length} sites ?`)) {
        sites.forEach(s => window.open(s.url, '_blank'));
        document.getElementById('status').textContent = 'Boosts appliqués !';
      }
    }

    updateList();
  </script>

</body>
</html>
